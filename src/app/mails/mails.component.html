<div class="email-wrapper">
    <h4>Emails</h4>
    <div class="email-cards">
        <mat-card *ngFor="let email of emails" class='email-card'>
            <mat-card-header>
                <mat-card-title>{{email.subject}}</mat-card-title>
                <mat-card-subtitle>From: {{email.sender.emailAddress.name}} ({{email.sender.emailAddress.address}})</mat-card-subtitle>
                <mat-card-subtitle>
                    To:
                    <div class="recipients" *ngFor="let recipient of email.toRecipients">
                        <div><span>{{recipient.emailAddress.name}}</span></div>
                        <div>{{recipient.emailAddress.address}}</div>
                    </div>
                </mat-card-subtitle>
                <mat-card-subtitle>
                    Cc:
                    <div class="recipients" *ngFor="let recipient of email.ccRecipients">
                        <div><span>{{recipient.emailAddress.name}}</span></div>
                        <div>{{recipient.emailAddress.address}}</div>
                    </div>
                </mat-card-subtitle>
                <mat-card-subtitle>
                    Bcc:
                    <div class="recipients" *ngFor="let recipient of email.bccRecipients">
                        <div><span>{{recipient.emailAddress.name}}</span></div>
                        <div>{{recipient.emailAddress.address}}</div>
                    </div>
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content class='content'>
                <p>
                    {{email.bodyPreview}}
                </p>
            </mat-card-content>
            <mat-card-actions>
                <button mat-button (click)="markAsUnread(email)">Mark as Unread</button>
            </mat-card-actions>
        </mat-card>
    </div>
</div>